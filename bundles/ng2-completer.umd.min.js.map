{"version":3,"file":"ng2-completer.umd.min.js.map","sources":["ng2-completer.umd.js"],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs/operators'), require('@angular/common/http'), require('@angular/forms'), require('@angular/common')) :\n    typeof define === 'function' && define.amd ? define(['exports', '@angular/core', 'rxjs/operators', '@angular/common/http', '@angular/forms', '@angular/common'], factory) :\n    (global = global || self, factory((global.ng2 = global.ng2 || {}, global.ng2.completer = {}), global.ng.core, global.Rx.Observable.prototype, global.ng.common.http, global.ng.forms, global.ng.common));\n}(this, (function (exports, core, operators, http, forms, common) { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics$1 = function(d, b) {\r\n        extendStatics$1 = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics$1(d, b);\r\n    };\r\n\r\n    function __extends$1(d, b) {\r\n        extendStatics$1(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function isFunction(x) {\n        return typeof x === 'function';\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var _enable_super_gross_mode_that_will_cause_bad_things = false;\n    var config = {\n        Promise: undefined,\n        set useDeprecatedSynchronousErrorHandling(value) {\n            if (value) {\n                var error = /*@__PURE__*/ new Error();\n                /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n            }\n            _enable_super_gross_mode_that_will_cause_bad_things = value;\n        },\n        get useDeprecatedSynchronousErrorHandling() {\n            return _enable_super_gross_mode_that_will_cause_bad_things;\n        },\n    };\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function hostReportError(err) {\n        setTimeout(function () { throw err; }, 0);\n    }\n\n    /** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\n    var empty = {\n        closed: true,\n        next: function (value) { },\n        error: function (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        },\n        complete: function () { }\n    };\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var isArray = /*@__PURE__*/ (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function isObject(x) {\n        return x !== null && typeof x === 'object';\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {\n        function UnsubscriptionErrorImpl(errors) {\n            Error.call(this);\n            this.message = errors ?\n                errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n            this.name = 'UnsubscriptionError';\n            this.errors = errors;\n            return this;\n        }\n        UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n        return UnsubscriptionErrorImpl;\n    })();\n    var UnsubscriptionError = UnsubscriptionErrorImpl;\n\n    /** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */\n    var Subscription = /*@__PURE__*/ (function () {\n        function Subscription(unsubscribe) {\n            this.closed = false;\n            this._parentOrParents = null;\n            this._subscriptions = null;\n            if (unsubscribe) {\n                this._ctorUnsubscribe = true;\n                this._unsubscribe = unsubscribe;\n            }\n        }\n        Subscription.prototype.unsubscribe = function () {\n            var errors;\n            if (this.closed) {\n                return;\n            }\n            var _a = this, _parentOrParents = _a._parentOrParents, _ctorUnsubscribe = _a._ctorUnsubscribe, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n            this.closed = true;\n            this._parentOrParents = null;\n            this._subscriptions = null;\n            if (_parentOrParents instanceof Subscription) {\n                _parentOrParents.remove(this);\n            }\n            else if (_parentOrParents !== null) {\n                for (var index = 0; index < _parentOrParents.length; ++index) {\n                    var parent_1 = _parentOrParents[index];\n                    parent_1.remove(this);\n                }\n            }\n            if (isFunction(_unsubscribe)) {\n                if (_ctorUnsubscribe) {\n                    this._unsubscribe = undefined;\n                }\n                try {\n                    _unsubscribe.call(this);\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n                }\n            }\n            if (isArray(_subscriptions)) {\n                var index = -1;\n                var len = _subscriptions.length;\n                while (++index < len) {\n                    var sub = _subscriptions[index];\n                    if (isObject(sub)) {\n                        try {\n                            sub.unsubscribe();\n                        }\n                        catch (e) {\n                            errors = errors || [];\n                            if (e instanceof UnsubscriptionError) {\n                                errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                            }\n                            else {\n                                errors.push(e);\n                            }\n                        }\n                    }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        };\n        Subscription.prototype.add = function (teardown) {\n            var subscription = teardown;\n            if (!teardown) {\n                return Subscription.EMPTY;\n            }\n            switch (typeof teardown) {\n                case 'function':\n                    subscription = new Subscription(teardown);\n                case 'object':\n                    if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                        return subscription;\n                    }\n                    else if (this.closed) {\n                        subscription.unsubscribe();\n                        return subscription;\n                    }\n                    else if (!(subscription instanceof Subscription)) {\n                        var tmp = subscription;\n                        subscription = new Subscription();\n                        subscription._subscriptions = [tmp];\n                    }\n                    break;\n                default: {\n                    throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n                }\n            }\n            var _parentOrParents = subscription._parentOrParents;\n            if (_parentOrParents === null) {\n                subscription._parentOrParents = this;\n            }\n            else if (_parentOrParents instanceof Subscription) {\n                if (_parentOrParents === this) {\n                    return subscription;\n                }\n                subscription._parentOrParents = [_parentOrParents, this];\n            }\n            else if (_parentOrParents.indexOf(this) === -1) {\n                _parentOrParents.push(this);\n            }\n            else {\n                return subscription;\n            }\n            var subscriptions = this._subscriptions;\n            if (subscriptions === null) {\n                this._subscriptions = [subscription];\n            }\n            else {\n                subscriptions.push(subscription);\n            }\n            return subscription;\n        };\n        Subscription.prototype.remove = function (subscription) {\n            var subscriptions = this._subscriptions;\n            if (subscriptions) {\n                var subscriptionIndex = subscriptions.indexOf(subscription);\n                if (subscriptionIndex !== -1) {\n                    subscriptions.splice(subscriptionIndex, 1);\n                }\n            }\n        };\n        Subscription.EMPTY = (function (empty) {\n            empty.closed = true;\n            return empty;\n        }(new Subscription()));\n        return Subscription;\n    }());\n    function flattenUnsubscriptionErrors(errors) {\n        return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var rxSubscriber = /*@__PURE__*/ (function () {\n        return typeof Symbol === 'function'\n            ? /*@__PURE__*/ Symbol('rxSubscriber')\n            : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();\n    })();\n\n    /** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\n    var Subscriber = /*@__PURE__*/ (function (_super) {\n        __extends$1(Subscriber, _super);\n        function Subscriber(destinationOrNext, error, complete) {\n            var _this = _super.call(this) || this;\n            _this.syncErrorValue = null;\n            _this.syncErrorThrown = false;\n            _this.syncErrorThrowable = false;\n            _this.isStopped = false;\n            switch (arguments.length) {\n                case 0:\n                    _this.destination = empty;\n                    break;\n                case 1:\n                    if (!destinationOrNext) {\n                        _this.destination = empty;\n                        break;\n                    }\n                    if (typeof destinationOrNext === 'object') {\n                        if (destinationOrNext instanceof Subscriber) {\n                            _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                            _this.destination = destinationOrNext;\n                            destinationOrNext.add(_this);\n                        }\n                        else {\n                            _this.syncErrorThrowable = true;\n                            _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                        }\n                        break;\n                    }\n                default:\n                    _this.syncErrorThrowable = true;\n                    _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                    break;\n            }\n            return _this;\n        }\n        Subscriber.prototype[rxSubscriber] = function () { return this; };\n        Subscriber.create = function (next, error, complete) {\n            var subscriber = new Subscriber(next, error, complete);\n            subscriber.syncErrorThrowable = false;\n            return subscriber;\n        };\n        Subscriber.prototype.next = function (value) {\n            if (!this.isStopped) {\n                this._next(value);\n            }\n        };\n        Subscriber.prototype.error = function (err) {\n            if (!this.isStopped) {\n                this.isStopped = true;\n                this._error(err);\n            }\n        };\n        Subscriber.prototype.complete = function () {\n            if (!this.isStopped) {\n                this.isStopped = true;\n                this._complete();\n            }\n        };\n        Subscriber.prototype.unsubscribe = function () {\n            if (this.closed) {\n                return;\n            }\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n        };\n        Subscriber.prototype._next = function (value) {\n            this.destination.next(value);\n        };\n        Subscriber.prototype._error = function (err) {\n            this.destination.error(err);\n            this.unsubscribe();\n        };\n        Subscriber.prototype._complete = function () {\n            this.destination.complete();\n            this.unsubscribe();\n        };\n        Subscriber.prototype._unsubscribeAndRecycle = function () {\n            var _parentOrParents = this._parentOrParents;\n            this._parentOrParents = null;\n            this.unsubscribe();\n            this.closed = false;\n            this.isStopped = false;\n            this._parentOrParents = _parentOrParents;\n            return this;\n        };\n        return Subscriber;\n    }(Subscription));\n    var SafeSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends$1(SafeSubscriber, _super);\n        function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n            var _this = _super.call(this) || this;\n            _this._parentSubscriber = _parentSubscriber;\n            var next;\n            var context = _this;\n            if (isFunction(observerOrNext)) {\n                next = observerOrNext;\n            }\n            else if (observerOrNext) {\n                next = observerOrNext.next;\n                error = observerOrNext.error;\n                complete = observerOrNext.complete;\n                if (observerOrNext !== empty) {\n                    context = Object.create(observerOrNext);\n                    if (isFunction(context.unsubscribe)) {\n                        _this.add(context.unsubscribe.bind(context));\n                    }\n                    context.unsubscribe = _this.unsubscribe.bind(_this);\n                }\n            }\n            _this._context = context;\n            _this._next = next;\n            _this._error = error;\n            _this._complete = complete;\n            return _this;\n        }\n        SafeSubscriber.prototype.next = function (value) {\n            if (!this.isStopped && this._next) {\n                var _parentSubscriber = this._parentSubscriber;\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._next, value);\n                }\n                else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                    this.unsubscribe();\n                }\n            }\n        };\n        SafeSubscriber.prototype.error = function (err) {\n            if (!this.isStopped) {\n                var _parentSubscriber = this._parentSubscriber;\n                var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n                if (this._error) {\n                    if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                        this.__tryOrUnsub(this._error, err);\n                        this.unsubscribe();\n                    }\n                    else {\n                        this.__tryOrSetError(_parentSubscriber, this._error, err);\n                        this.unsubscribe();\n                    }\n                }\n                else if (!_parentSubscriber.syncErrorThrowable) {\n                    this.unsubscribe();\n                    if (useDeprecatedSynchronousErrorHandling) {\n                        throw err;\n                    }\n                    hostReportError(err);\n                }\n                else {\n                    if (useDeprecatedSynchronousErrorHandling) {\n                        _parentSubscriber.syncErrorValue = err;\n                        _parentSubscriber.syncErrorThrown = true;\n                    }\n                    else {\n                        hostReportError(err);\n                    }\n                    this.unsubscribe();\n                }\n            }\n        };\n        SafeSubscriber.prototype.complete = function () {\n            var _this = this;\n            if (!this.isStopped) {\n                var _parentSubscriber = this._parentSubscriber;\n                if (this._complete) {\n                    var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                    if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                        this.__tryOrUnsub(wrappedComplete);\n                        this.unsubscribe();\n                    }\n                    else {\n                        this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                        this.unsubscribe();\n                    }\n                }\n                else {\n                    this.unsubscribe();\n                }\n            }\n        };\n        SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n            try {\n                fn.call(this._context, value);\n            }\n            catch (err) {\n                this.unsubscribe();\n                if (config.useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                else {\n                    hostReportError(err);\n                }\n            }\n        };\n        SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n            if (!config.useDeprecatedSynchronousErrorHandling) {\n                throw new Error('bad call');\n            }\n            try {\n                fn.call(this._context, value);\n            }\n            catch (err) {\n                if (config.useDeprecatedSynchronousErrorHandling) {\n                    parent.syncErrorValue = err;\n                    parent.syncErrorThrown = true;\n                    return true;\n                }\n                else {\n                    hostReportError(err);\n                    return true;\n                }\n            }\n            return false;\n        };\n        SafeSubscriber.prototype._unsubscribe = function () {\n            var _parentSubscriber = this._parentSubscriber;\n            this._context = null;\n            this._parentSubscriber = null;\n            _parentSubscriber.unsubscribe();\n        };\n        return SafeSubscriber;\n    }(Subscriber));\n\n    /** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */\n    function canReportError(observer) {\n        while (observer) {\n            var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n            if (closed_1 || isStopped) {\n                return false;\n            }\n            else if (destination && destination instanceof Subscriber) {\n                observer = destination;\n            }\n            else {\n                observer = null;\n            }\n        }\n        return true;\n    }\n\n    /** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\n    function toSubscriber(nextOrObserver, error, complete) {\n        if (nextOrObserver) {\n            if (nextOrObserver instanceof Subscriber) {\n                return nextOrObserver;\n            }\n            if (nextOrObserver[rxSubscriber]) {\n                return nextOrObserver[rxSubscriber]();\n            }\n        }\n        if (!nextOrObserver && !error && !complete) {\n            return new Subscriber(empty);\n        }\n        return new Subscriber(nextOrObserver, error, complete);\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var observable = /*@__PURE__*/ (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function identity(x) {\n        return x;\n    }\n\n    /** PURE_IMPORTS_START _identity PURE_IMPORTS_END */\n    function pipeFromArray(fns) {\n        if (fns.length === 0) {\n            return identity;\n        }\n        if (fns.length === 1) {\n            return fns[0];\n        }\n        return function piped(input) {\n            return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n        };\n    }\n\n    /** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\n    var Observable = /*@__PURE__*/ (function () {\n        function Observable(subscribe) {\n            this._isScalar = false;\n            if (subscribe) {\n                this._subscribe = subscribe;\n            }\n        }\n        Observable.prototype.lift = function (operator) {\n            var observable = new Observable();\n            observable.source = this;\n            observable.operator = operator;\n            return observable;\n        };\n        Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n            var operator = this.operator;\n            var sink = toSubscriber(observerOrNext, error, complete);\n            if (operator) {\n                sink.add(operator.call(sink, this.source));\n            }\n            else {\n                sink.add(this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                    this._subscribe(sink) :\n                    this._trySubscribe(sink));\n            }\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                if (sink.syncErrorThrowable) {\n                    sink.syncErrorThrowable = false;\n                    if (sink.syncErrorThrown) {\n                        throw sink.syncErrorValue;\n                    }\n                }\n            }\n            return sink;\n        };\n        Observable.prototype._trySubscribe = function (sink) {\n            try {\n                return this._subscribe(sink);\n            }\n            catch (err) {\n                if (config.useDeprecatedSynchronousErrorHandling) {\n                    sink.syncErrorThrown = true;\n                    sink.syncErrorValue = err;\n                }\n                if (canReportError(sink)) {\n                    sink.error(err);\n                }\n                else {\n                    console.warn(err);\n                }\n            }\n        };\n        Observable.prototype.forEach = function (next, promiseCtor) {\n            var _this = this;\n            promiseCtor = getPromiseCtor(promiseCtor);\n            return new promiseCtor(function (resolve, reject) {\n                var subscription;\n                subscription = _this.subscribe(function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        if (subscription) {\n                            subscription.unsubscribe();\n                        }\n                    }\n                }, reject, resolve);\n            });\n        };\n        Observable.prototype._subscribe = function (subscriber) {\n            var source = this.source;\n            return source && source.subscribe(subscriber);\n        };\n        Observable.prototype[observable] = function () {\n            return this;\n        };\n        Observable.prototype.pipe = function () {\n            var operations = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                operations[_i] = arguments[_i];\n            }\n            if (operations.length === 0) {\n                return this;\n            }\n            return pipeFromArray(operations)(this);\n        };\n        Observable.prototype.toPromise = function (promiseCtor) {\n            var _this = this;\n            promiseCtor = getPromiseCtor(promiseCtor);\n            return new promiseCtor(function (resolve, reject) {\n                var value;\n                _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n            });\n        };\n        Observable.create = function (subscribe) {\n            return new Observable(subscribe);\n        };\n        return Observable;\n    }());\n    function getPromiseCtor(promiseCtor) {\n        if (!promiseCtor) {\n            promiseCtor =  Promise;\n        }\n        if (!promiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return promiseCtor;\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {\n        function ObjectUnsubscribedErrorImpl() {\n            Error.call(this);\n            this.message = 'object unsubscribed';\n            this.name = 'ObjectUnsubscribedError';\n            return this;\n        }\n        ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n        return ObjectUnsubscribedErrorImpl;\n    })();\n    var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n\n    /** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\n    var SubjectSubscription = /*@__PURE__*/ (function (_super) {\n        __extends$1(SubjectSubscription, _super);\n        function SubjectSubscription(subject, subscriber) {\n            var _this = _super.call(this) || this;\n            _this.subject = subject;\n            _this.subscriber = subscriber;\n            _this.closed = false;\n            return _this;\n        }\n        SubjectSubscription.prototype.unsubscribe = function () {\n            if (this.closed) {\n                return;\n            }\n            this.closed = true;\n            var subject = this.subject;\n            var observers = subject.observers;\n            this.subject = null;\n            if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n                return;\n            }\n            var subscriberIndex = observers.indexOf(this.subscriber);\n            if (subscriberIndex !== -1) {\n                observers.splice(subscriberIndex, 1);\n            }\n        };\n        return SubjectSubscription;\n    }(Subscription));\n\n    /** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\n    var SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends$1(SubjectSubscriber, _super);\n        function SubjectSubscriber(destination) {\n            var _this = _super.call(this, destination) || this;\n            _this.destination = destination;\n            return _this;\n        }\n        return SubjectSubscriber;\n    }(Subscriber));\n    var Subject = /*@__PURE__*/ (function (_super) {\n        __extends$1(Subject, _super);\n        function Subject() {\n            var _this = _super.call(this) || this;\n            _this.observers = [];\n            _this.closed = false;\n            _this.isStopped = false;\n            _this.hasError = false;\n            _this.thrownError = null;\n            return _this;\n        }\n        Subject.prototype[rxSubscriber] = function () {\n            return new SubjectSubscriber(this);\n        };\n        Subject.prototype.lift = function (operator) {\n            var subject = new AnonymousSubject(this, this);\n            subject.operator = operator;\n            return subject;\n        };\n        Subject.prototype.next = function (value) {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            if (!this.isStopped) {\n                var observers = this.observers;\n                var len = observers.length;\n                var copy = observers.slice();\n                for (var i = 0; i < len; i++) {\n                    copy[i].next(value);\n                }\n            }\n        };\n        Subject.prototype.error = function (err) {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            this.hasError = true;\n            this.thrownError = err;\n            this.isStopped = true;\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].error(err);\n            }\n            this.observers.length = 0;\n        };\n        Subject.prototype.complete = function () {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            this.isStopped = true;\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].complete();\n            }\n            this.observers.length = 0;\n        };\n        Subject.prototype.unsubscribe = function () {\n            this.isStopped = true;\n            this.closed = true;\n            this.observers = null;\n        };\n        Subject.prototype._trySubscribe = function (subscriber) {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            else {\n                return _super.prototype._trySubscribe.call(this, subscriber);\n            }\n        };\n        Subject.prototype._subscribe = function (subscriber) {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            else if (this.hasError) {\n                subscriber.error(this.thrownError);\n                return Subscription.EMPTY;\n            }\n            else if (this.isStopped) {\n                subscriber.complete();\n                return Subscription.EMPTY;\n            }\n            else {\n                this.observers.push(subscriber);\n                return new SubjectSubscription(this, subscriber);\n            }\n        };\n        Subject.prototype.asObservable = function () {\n            var observable = new Observable();\n            observable.source = this;\n            return observable;\n        };\n        Subject.create = function (destination, source) {\n            return new AnonymousSubject(destination, source);\n        };\n        return Subject;\n    }(Observable));\n    var AnonymousSubject = /*@__PURE__*/ (function (_super) {\n        __extends$1(AnonymousSubject, _super);\n        function AnonymousSubject(destination, source) {\n            var _this = _super.call(this) || this;\n            _this.destination = destination;\n            _this.source = source;\n            return _this;\n        }\n        AnonymousSubject.prototype.next = function (value) {\n            var destination = this.destination;\n            if (destination && destination.next) {\n                destination.next(value);\n            }\n        };\n        AnonymousSubject.prototype.error = function (err) {\n            var destination = this.destination;\n            if (destination && destination.error) {\n                this.destination.error(err);\n            }\n        };\n        AnonymousSubject.prototype.complete = function () {\n            var destination = this.destination;\n            if (destination && destination.complete) {\n                this.destination.complete();\n            }\n        };\n        AnonymousSubject.prototype._subscribe = function (subscriber) {\n            var source = this.source;\n            if (source) {\n                return this.source.subscribe(subscriber);\n            }\n            else {\n                return Subscription.EMPTY;\n            }\n        };\n        return AnonymousSubject;\n    }(Subject));\n\n    /** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\n    var Action = /*@__PURE__*/ (function (_super) {\n        __extends$1(Action, _super);\n        function Action(scheduler, work) {\n            return _super.call(this) || this;\n        }\n        Action.prototype.schedule = function (state, delay) {\n            return this;\n        };\n        return Action;\n    }(Subscription));\n\n    /** PURE_IMPORTS_START tslib,_Action PURE_IMPORTS_END */\n    var AsyncAction = /*@__PURE__*/ (function (_super) {\n        __extends$1(AsyncAction, _super);\n        function AsyncAction(scheduler, work) {\n            var _this = _super.call(this, scheduler, work) || this;\n            _this.scheduler = scheduler;\n            _this.work = work;\n            _this.pending = false;\n            return _this;\n        }\n        AsyncAction.prototype.schedule = function (state, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (this.closed) {\n                return this;\n            }\n            this.state = state;\n            var id = this.id;\n            var scheduler = this.scheduler;\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, delay);\n            }\n            this.pending = true;\n            this.delay = delay;\n            this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n            return this;\n        };\n        AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            return setInterval(scheduler.flush.bind(scheduler, this), delay);\n        };\n        AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (delay !== null && this.delay === delay && this.pending === false) {\n                return id;\n            }\n            clearInterval(id);\n            return undefined;\n        };\n        AsyncAction.prototype.execute = function (state, delay) {\n            if (this.closed) {\n                return new Error('executing a cancelled action');\n            }\n            this.pending = false;\n            var error = this._execute(state, delay);\n            if (error) {\n                return error;\n            }\n            else if (this.pending === false && this.id != null) {\n                this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n            }\n        };\n        AsyncAction.prototype._execute = function (state, delay) {\n            var errored = false;\n            var errorValue = undefined;\n            try {\n                this.work(state);\n            }\n            catch (e) {\n                errored = true;\n                errorValue = !!e && e || new Error(e);\n            }\n            if (errored) {\n                this.unsubscribe();\n                return errorValue;\n            }\n        };\n        AsyncAction.prototype._unsubscribe = function () {\n            var id = this.id;\n            var scheduler = this.scheduler;\n            var actions = scheduler.actions;\n            var index = actions.indexOf(this);\n            this.work = null;\n            this.state = null;\n            this.pending = false;\n            this.scheduler = null;\n            if (index !== -1) {\n                actions.splice(index, 1);\n            }\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n        };\n        return AsyncAction;\n    }(Action));\n\n    var Scheduler = /*@__PURE__*/ (function () {\n        function Scheduler(SchedulerAction, now) {\n            if (now === void 0) {\n                now = Scheduler.now;\n            }\n            this.SchedulerAction = SchedulerAction;\n            this.now = now;\n        }\n        Scheduler.prototype.schedule = function (work, delay, state) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            return new this.SchedulerAction(this, work).schedule(state, delay);\n        };\n        Scheduler.now = function () { return Date.now(); };\n        return Scheduler;\n    }());\n\n    /** PURE_IMPORTS_START tslib,_Scheduler PURE_IMPORTS_END */\n    var AsyncScheduler = /*@__PURE__*/ (function (_super) {\n        __extends$1(AsyncScheduler, _super);\n        function AsyncScheduler(SchedulerAction, now) {\n            if (now === void 0) {\n                now = Scheduler.now;\n            }\n            var _this = _super.call(this, SchedulerAction, function () {\n                if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n                    return AsyncScheduler.delegate.now();\n                }\n                else {\n                    return now();\n                }\n            }) || this;\n            _this.actions = [];\n            _this.active = false;\n            _this.scheduled = undefined;\n            return _this;\n        }\n        AsyncScheduler.prototype.schedule = function (work, delay, state) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n                return AsyncScheduler.delegate.schedule(work, delay, state);\n            }\n            else {\n                return _super.prototype.schedule.call(this, work, delay, state);\n            }\n        };\n        AsyncScheduler.prototype.flush = function (action) {\n            var actions = this.actions;\n            if (this.active) {\n                actions.push(action);\n                return;\n            }\n            var error;\n            this.active = true;\n            do {\n                if (error = action.execute(action.state, action.delay)) {\n                    break;\n                }\n            } while (action = actions.shift());\n            this.active = false;\n            if (error) {\n                while (action = actions.shift()) {\n                    action.unsubscribe();\n                }\n                throw error;\n            }\n        };\n        return AsyncScheduler;\n    }(Scheduler));\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function isScheduler(value) {\n        return value && typeof value.schedule === 'function';\n    }\n\n    /** PURE_IMPORTS_START _AsyncAction,_AsyncScheduler PURE_IMPORTS_END */\n    var asyncScheduler = /*@__PURE__*/ new AsyncScheduler(AsyncAction);\n    var async = asyncScheduler;\n\n    /** PURE_IMPORTS_START _isArray PURE_IMPORTS_END */\n    function isNumeric(val) {\n        return !isArray(val) && (val - parseFloat(val) + 1) >= 0;\n    }\n\n    /** PURE_IMPORTS_START _Observable,_scheduler_async,_util_isNumeric,_util_isScheduler PURE_IMPORTS_END */\n    function timer(dueTime, periodOrScheduler, scheduler) {\n        if (dueTime === void 0) {\n            dueTime = 0;\n        }\n        var period = -1;\n        if (isNumeric(periodOrScheduler)) {\n            period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n        }\n        else if (isScheduler(periodOrScheduler)) {\n            scheduler = periodOrScheduler;\n        }\n        if (!isScheduler(scheduler)) {\n            scheduler = async;\n        }\n        return new Observable(function (subscriber) {\n            var due = isNumeric(dueTime)\n                ? dueTime\n                : (+dueTime - scheduler.now());\n            return scheduler.schedule(dispatch, due, {\n                index: 0, period: period, subscriber: subscriber\n            });\n        });\n    }\n    function dispatch(state) {\n        var index = state.index, period = state.period, subscriber = state.subscriber;\n        subscriber.next(index);\n        if (subscriber.closed) {\n            return;\n        }\n        else if (period === -1) {\n            return subscriber.complete();\n        }\n        state.index = index + 1;\n        this.schedule(state, period);\n    }\n\n    /**\r\n     * @license ng2-completer\r\n     * MIT license\r\n     */\n\n    var MAX_CHARS = 524288; // the default max length per the html maxlength attribute\r\n    var MIN_SEARCH_LENGTH = 3;\r\n    var PAUSE = 10;\r\n    var TEXT_SEARCHING = \"Searching...\";\r\n    var TEXT_NO_RESULTS = \"No results found\";\r\n    var CLEAR_TIMEOUT = 50;\r\n    function isNil(value) {\r\n        return typeof value === \"undefined\" || value === null;\r\n    }\n\n    var CompleterBaseData = /** @class */ (function (_super) {\r\n        __extends(CompleterBaseData, _super);\r\n        function CompleterBaseData() {\r\n            var _this = _super.call(this) || this;\r\n            _this._searchFields = null;\r\n            _this._titleField = null;\r\n            _this._descriptionField = undefined;\r\n            _this._imageField = undefined;\r\n            return _this;\r\n        }\r\n        CompleterBaseData.prototype.cancel = function () {\r\n            return;\r\n        };\r\n        CompleterBaseData.prototype.searchFields = function (searchFields) {\r\n            this._searchFields = searchFields;\r\n            return this;\r\n        };\r\n        CompleterBaseData.prototype.titleField = function (titleField) {\r\n            this._titleField = titleField;\r\n            return this;\r\n        };\r\n        CompleterBaseData.prototype.descriptionField = function (descriptionField) {\r\n            this._descriptionField = descriptionField;\r\n            return this;\r\n        };\r\n        CompleterBaseData.prototype.imageField = function (imageField) {\r\n            this._imageField = imageField;\r\n            return this;\r\n        };\r\n        CompleterBaseData.prototype.convertToItem = function (data) {\r\n            var image = null;\r\n            var formattedText;\r\n            var formattedDesc = null;\r\n            if (this._titleField) {\r\n                formattedText = this.extractTitle(data);\r\n            }\r\n            else {\r\n                formattedText = data;\r\n            }\r\n            if (typeof formattedText !== \"string\") {\r\n                formattedText = JSON.stringify(formattedText);\r\n            }\r\n            if (this._descriptionField) {\r\n                formattedDesc = this.extractValue(data, this._descriptionField);\r\n            }\r\n            if (this._imageField) {\r\n                image = this.extractValue(data, this._imageField);\r\n            }\r\n            if (isNil(formattedText)) {\r\n                return null;\r\n            }\r\n            return {\r\n                description: formattedDesc,\r\n                image: image,\r\n                originalObject: data,\r\n                title: formattedText\r\n            };\r\n        };\r\n        CompleterBaseData.prototype.extractMatches = function (data, term) {\r\n            var _this = this;\r\n            var matches = [];\r\n            var searchFields = this._searchFields ? this._searchFields.split(\",\") : null;\r\n            if (this._searchFields !== null && this._searchFields !== undefined && term !== \"\") {\r\n                matches = data.filter(function (item) {\r\n                    var values = searchFields ? _this.extractBySearchFields(searchFields, item) : [item];\r\n                    return values.some(function (value) { return value\r\n                        .toString()\r\n                        .toLowerCase()\r\n                        .indexOf(term.toString().toLowerCase()) >= 0; });\r\n                });\r\n            }\r\n            else {\r\n                matches = data;\r\n            }\r\n            return matches;\r\n        };\r\n        CompleterBaseData.prototype.extractTitle = function (item) {\r\n            var _this = this;\r\n            // split title fields and run extractValue for each and join with ' '\r\n            if (!this._titleField) {\r\n                return \"\";\r\n            }\r\n            return this._titleField.split(\",\")\r\n                .map(function (field) {\r\n                return _this.extractValue(item, field);\r\n            })\r\n                .reduce(function (acc, titlePart) { return acc ? acc + \" \" + titlePart : titlePart; });\r\n        };\r\n        CompleterBaseData.prototype.extractValue = function (obj, key) {\r\n            var keys;\r\n            var result;\r\n            if (key) {\r\n                keys = key.split(\".\");\r\n                result = obj;\r\n                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n                    key = keys_1[_i];\r\n                    if (result) {\r\n                        result = result[key];\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                result = obj;\r\n            }\r\n            return result;\r\n        };\r\n        CompleterBaseData.prototype.processResults = function (matches) {\r\n            var i;\r\n            var results = [];\r\n            if (matches && matches.length > 0) {\r\n                for (i = 0; i < matches.length; i++) {\r\n                    var item = this.convertToItem(matches[i]);\r\n                    if (item) {\r\n                        results.push(item);\r\n                    }\r\n                }\r\n            }\r\n            return results;\r\n        };\r\n        CompleterBaseData.prototype.extractBySearchFields = function (searchFields, item) {\r\n            var _this = this;\r\n            return searchFields\r\n                .map(function (searchField) { return _this.extractValue(item, searchField); }).filter(function (value) { return !!value; });\r\n        };\r\n        return CompleterBaseData;\r\n    }(Subject));\n\n    var LocalData = /** @class */ (function (_super) {\r\n        __extends(LocalData, _super);\r\n        function LocalData() {\r\n            var _this = _super.call(this) || this;\r\n            _this.dataSourceChange = new core.EventEmitter();\r\n            _this._data = [];\r\n            _this.savedTerm = null;\r\n            return _this;\r\n        }\r\n        LocalData.prototype.data = function (data) {\r\n            var _this = this;\r\n            if (data instanceof Observable) {\r\n                var data$ = data;\r\n                data$\r\n                    .pipe(operators.catchError(function () { return []; }))\r\n                    .subscribe(function (res) {\r\n                    _this._data = res;\r\n                    if (_this.savedTerm) {\r\n                        _this.search(_this.savedTerm);\r\n                    }\r\n                    _this.dataSourceChange.emit();\r\n                });\r\n            }\r\n            else {\r\n                this._data = data;\r\n            }\r\n            this.dataSourceChange.emit();\r\n            return this;\r\n        };\r\n        LocalData.prototype.search = function (term) {\r\n            if (!this._data) {\r\n                this.savedTerm = term;\r\n            }\r\n            else {\r\n                this.savedTerm = null;\r\n                var matches = this.extractMatches(this._data, term);\r\n                this.next(this.processResults(matches));\r\n            }\r\n        };\r\n        LocalData.prototype.convertToItem = function (data) {\r\n            return _super.prototype.convertToItem.call(this, data);\r\n        };\r\n        return LocalData;\r\n    }(CompleterBaseData));\n\n    var RemoteData = /** @class */ (function (_super) {\r\n        __extends(RemoteData, _super);\r\n        function RemoteData(http) {\r\n            var _this = _super.call(this) || this;\r\n            _this.http = http;\r\n            _this.dataSourceChange = new core.EventEmitter();\r\n            _this._remoteUrl = null;\r\n            _this.remoteSearch = null;\r\n            _this._urlFormater = null;\r\n            _this._dataField = null;\r\n            return _this;\r\n        }\r\n        RemoteData.prototype.remoteUrl = function (remoteUrl) {\r\n            this._remoteUrl = remoteUrl;\r\n            this.dataSourceChange.emit();\r\n            return this;\r\n        };\r\n        RemoteData.prototype.urlFormater = function (urlFormater) {\r\n            this._urlFormater = urlFormater;\r\n        };\r\n        RemoteData.prototype.dataField = function (dataField) {\r\n            this._dataField = dataField;\r\n        };\r\n        RemoteData.prototype.requestOptions = function (requestOptions) {\r\n            this._requestOptions = requestOptions;\r\n        };\r\n        RemoteData.prototype.search = function (term) {\r\n            var _this = this;\r\n            this.cancel();\r\n            // let params = {};\r\n            var url = \"\";\r\n            if (this._urlFormater) {\r\n                url = this._urlFormater(term);\r\n            }\r\n            else {\r\n                url = this._remoteUrl + encodeURIComponent(term);\r\n            }\r\n            this.remoteSearch = this.http\r\n                .get(url, Object.assign({}, this._requestOptions))\r\n                .pipe(operators.map(function (data) {\r\n                // const matches = this.extractValue(data, this._dataField);\r\n                // return this.extractMatches(matches, term);\r\n                return data;\r\n            }), operators.catchError(function () { return []; }))\r\n                .subscribe(function (matches) {\r\n                var results = _this.processResults(matches);\r\n                _this.next(results);\r\n            });\r\n        };\r\n        RemoteData.prototype.cancel = function () {\r\n            if (this.remoteSearch) {\r\n                this.remoteSearch.unsubscribe();\r\n            }\r\n        };\r\n        RemoteData.prototype.convertToItem = function (data) {\r\n            return _super.prototype.convertToItem.call(this, data);\r\n        };\r\n        return RemoteData;\r\n    }(CompleterBaseData));\n\n    var LocalDataFactory = /** @class */ (function () {\r\n        function LocalDataFactory() {\r\n        }\r\n        LocalDataFactory.prototype.create = function () {\r\n            return new LocalData();\r\n        };\r\n        LocalDataFactory.decorators = [\r\n            { type: core.Injectable }\r\n        ];\r\n        return LocalDataFactory;\r\n    }());\n\n    var RemoteDataFactory = /** @class */ (function () {\r\n        function RemoteDataFactory(http) {\r\n            this.http = http;\r\n        }\r\n        RemoteDataFactory.prototype.create = function () {\r\n            return new RemoteData(this.http);\r\n        };\r\n        RemoteDataFactory.decorators = [\r\n            { type: core.Injectable }\r\n        ];\r\n        RemoteDataFactory.ctorParameters = function () { return [\r\n            { type: http.HttpClient }\r\n        ]; };\r\n        return RemoteDataFactory;\r\n    }());\n\n    var CompleterService = /** @class */ (function () {\r\n        function CompleterService(localDataFactory, // Using any instead of () => LocalData because of AoT errors\r\n        remoteDataFactory // Using any instead of () => LocalData because of AoT errors\r\n        ) {\r\n            this.localDataFactory = localDataFactory;\r\n            this.remoteDataFactory = remoteDataFactory;\r\n        }\r\n        CompleterService.prototype.local = function (data, searchFields, titleField) {\r\n            if (searchFields === void 0) { searchFields = \"\"; }\r\n            if (titleField === void 0) { titleField = \"\"; }\r\n            var localData = this.localDataFactory.create();\r\n            return localData\r\n                .data(data)\r\n                .searchFields(searchFields)\r\n                .titleField(titleField);\r\n        };\r\n        CompleterService.prototype.remote = function (url, searchFields, titleField) {\r\n            if (searchFields === void 0) { searchFields = \"\"; }\r\n            if (titleField === void 0) { titleField = \"\"; }\r\n            var remoteData = this.remoteDataFactory.create();\r\n            return remoteData\r\n                .remoteUrl(url)\r\n                .searchFields(searchFields)\r\n                .titleField(titleField);\r\n        };\r\n        CompleterService.decorators = [\r\n            { type: core.Injectable }\r\n        ];\r\n        CompleterService.ctorParameters = function () { return [\r\n            { type: LocalDataFactory },\r\n            { type: RemoteDataFactory }\r\n        ]; };\r\n        return CompleterService;\r\n    }());\n\n    var CtrCompleter = /** @class */ (function () {\r\n        function CtrCompleter() {\r\n            this.selected = new core.EventEmitter();\r\n            this.highlighted = new core.EventEmitter();\r\n            this.opened = new core.EventEmitter();\r\n            this.dataSourceChange = new core.EventEmitter();\r\n            this.list = null;\r\n            this.dropdown = null;\r\n            this._hasHighlighted = false;\r\n            this._hasSelected = false;\r\n            this._cancelBlur = false;\r\n            this._isOpen = false;\r\n            this._autoHighlightIndex = null;\r\n        }\r\n        CtrCompleter.prototype.registerList = function (list) {\r\n            this.list = list;\r\n        };\r\n        CtrCompleter.prototype.registerDropdown = function (dropdown) {\r\n            this.dropdown = dropdown;\r\n        };\r\n        CtrCompleter.prototype.onHighlighted = function (item) {\r\n            this.highlighted.emit(item);\r\n            this._hasHighlighted = !!item;\r\n        };\r\n        CtrCompleter.prototype.onSelected = function (item, clearList) {\r\n            if (clearList === void 0) { clearList = true; }\r\n            this.selected.emit(item);\r\n            if (item) {\r\n                this._hasSelected = true;\r\n            }\r\n            if (clearList) {\r\n                this.clear();\r\n            }\r\n        };\r\n        CtrCompleter.prototype.onDataSourceChange = function () {\r\n            if (this.hasSelected) {\r\n                this.selected.emit(null);\r\n                this._hasSelected = false;\r\n            }\r\n            this.dataSourceChange.emit();\r\n        };\r\n        CtrCompleter.prototype.search = function (term) {\r\n            if (this._hasSelected) {\r\n                this.selected.emit(null);\r\n                this._hasSelected = false;\r\n            }\r\n            if (this.list) {\r\n                this.list.search(term);\r\n            }\r\n        };\r\n        CtrCompleter.prototype.clear = function () {\r\n            this._hasHighlighted = false;\r\n            this.isOpen = false;\r\n            if (this.dropdown) {\r\n                this.dropdown.clear();\r\n            }\r\n            if (this.list) {\r\n                this.list.clear();\r\n            }\r\n        };\r\n        CtrCompleter.prototype.selectCurrent = function () {\r\n            if (this.dropdown) {\r\n                this.dropdown.selectCurrent();\r\n            }\r\n        };\r\n        CtrCompleter.prototype.nextRow = function () {\r\n            if (this.dropdown) {\r\n                this.dropdown.nextRow();\r\n            }\r\n        };\r\n        CtrCompleter.prototype.prevRow = function () {\r\n            if (this.dropdown) {\r\n                this.dropdown.prevRow();\r\n            }\r\n        };\r\n        CtrCompleter.prototype.hasHighlighted = function () {\r\n            return this._hasHighlighted;\r\n        };\r\n        CtrCompleter.prototype.cancelBlur = function (cancel) {\r\n            this._cancelBlur = cancel;\r\n        };\r\n        CtrCompleter.prototype.isCancelBlur = function () {\r\n            return this._cancelBlur;\r\n        };\r\n        CtrCompleter.prototype.open = function () {\r\n            if (!this._isOpen && !!this.list) {\r\n                this.isOpen = true;\r\n                this.list.open();\r\n            }\r\n        };\r\n        Object.defineProperty(CtrCompleter.prototype, \"isOpen\", {\r\n            get: function () {\r\n                return this._isOpen;\r\n            },\r\n            set: function (open) {\r\n                this._isOpen = open;\r\n                this.opened.emit(this._isOpen);\r\n                if (this.list) {\r\n                    this.list.isOpen(open);\r\n                }\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(CtrCompleter.prototype, \"autoHighlightIndex\", {\r\n            get: function () {\r\n                return this._autoHighlightIndex;\r\n            },\r\n            set: function (index) {\r\n                this._autoHighlightIndex = index;\r\n                if (this.dropdown) {\r\n                    this.dropdown.highlightRow(this._autoHighlightIndex);\r\n                }\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(CtrCompleter.prototype, \"hasSelected\", {\r\n            get: function () {\r\n                return this._hasSelected;\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        CtrCompleter.decorators = [\r\n            { type: core.Directive, args: [{\r\n                        selector: \"[ctrCompleter]\",\r\n                    },] }\r\n        ];\r\n        CtrCompleter.propDecorators = {\r\n            selected: [{ type: core.Output }],\r\n            highlighted: [{ type: core.Output }],\r\n            opened: [{ type: core.Output }],\r\n            dataSourceChange: [{ type: core.Output }]\r\n        };\r\n        return CtrCompleter;\r\n    }());\n\n    var CtrRowItem = /** @class */ (function () {\r\n        function CtrRowItem(row, index) {\r\n            this.row = row;\r\n            this.index = index;\r\n        }\r\n        return CtrRowItem;\r\n    }());\r\n    var CtrDropdown = /** @class */ (function () {\r\n        function CtrDropdown(completer, el, zone) {\r\n            this.completer = completer;\r\n            this.el = el;\r\n            this.zone = zone;\r\n            this.rows = [];\r\n            this.isScrollOn = false;\r\n            this._rowMouseDown = false;\r\n            this.completer.registerDropdown(this);\r\n        }\r\n        CtrDropdown.prototype.ngOnDestroy = function () {\r\n            this.completer.registerDropdown(null);\r\n        };\r\n        CtrDropdown.prototype.ngAfterViewInit = function () {\r\n            var _this = this;\r\n            var css = getComputedStyle(this.el.nativeElement);\r\n            var autoHighlightIndex = this.completer.autoHighlightIndex;\r\n            this.isScrollOn = !!css.maxHeight && css.overflowY === \"auto\";\r\n            if (autoHighlightIndex) {\r\n                this.zone.run(function () {\r\n                    _this.highlightRow(autoHighlightIndex);\r\n                });\r\n            }\r\n        };\r\n        CtrDropdown.prototype.onMouseDown = function (event) {\r\n            var _this = this;\r\n            // Support for canceling blur on IE (issue #158)\r\n            if (!this._rowMouseDown) {\r\n                this.completer.cancelBlur(true);\r\n                this.zone.run(function () {\r\n                    _this.completer.cancelBlur(false);\r\n                });\r\n            }\r\n            else {\r\n                this._rowMouseDown = false;\r\n            }\r\n        };\r\n        CtrDropdown.prototype.registerRow = function (row) {\r\n            var arrIndex = this.rows.findIndex(function (_row) { return _row.index === row.index; });\r\n            if (arrIndex >= 0) {\r\n                this.rows[arrIndex] = row;\r\n            }\r\n            else {\r\n                this.rows.push(row);\r\n            }\r\n        };\r\n        CtrDropdown.prototype.unregisterRow = function (rowIndex) {\r\n            var arrIndex = this.rows.findIndex(function (_row) { return _row.index === rowIndex; });\r\n            this.rows.splice(arrIndex, 1);\r\n            if (this.currHighlighted && rowIndex === this.currHighlighted.index) {\r\n                this.highlightRow(null);\r\n            }\r\n        };\r\n        CtrDropdown.prototype.highlightRow = function (index) {\r\n            var highlighted = this.rows.find(function (row) { return row.index === index; });\r\n            if (isNil(index) || index < 0) {\r\n                if (this.currHighlighted) {\r\n                    this.currHighlighted.row.setHighlighted(false);\r\n                }\r\n                this.currHighlighted = undefined;\r\n                this.completer.onHighlighted(null);\r\n                return;\r\n            }\r\n            if (!highlighted) {\r\n                return;\r\n            }\r\n            if (this.currHighlighted) {\r\n                this.currHighlighted.row.setHighlighted(false);\r\n            }\r\n            this.currHighlighted = highlighted;\r\n            this.currHighlighted.row.setHighlighted(true);\r\n            this.completer.onHighlighted(this.currHighlighted.row.getDataItem());\r\n            if (this.isScrollOn && this.currHighlighted) {\r\n                var rowTop = this.dropdownRowTop();\r\n                if (!rowTop) {\r\n                    return;\r\n                }\r\n                if (rowTop < 0) {\r\n                    this.dropdownScrollTopTo(rowTop - 1);\r\n                }\r\n                else {\r\n                    var row = this.currHighlighted.row.getNativeElement();\r\n                    if (this.dropdownHeight() < row.getBoundingClientRect().bottom) {\r\n                        this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(row));\r\n                        if (this.el.nativeElement.getBoundingClientRect().bottom - this.dropdownRowOffsetHeight(row) < row.getBoundingClientRect().top) {\r\n                            this.dropdownScrollTopTo(row.getBoundingClientRect().top - (this.el.nativeElement.getBoundingClientRect().top + parseInt(getComputedStyle(this.el.nativeElement).paddingTop, 10)));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        CtrDropdown.prototype.clear = function () {\r\n            this.rows = [];\r\n        };\r\n        CtrDropdown.prototype.onSelected = function (item) {\r\n            this.completer.onSelected(item);\r\n        };\r\n        CtrDropdown.prototype.rowMouseDown = function () {\r\n            this._rowMouseDown = true;\r\n        };\r\n        CtrDropdown.prototype.selectCurrent = function () {\r\n            if (!!this.currHighlighted && !!this.currHighlighted.row) {\r\n                this.onSelected(this.currHighlighted.row.getDataItem());\r\n            }\r\n            else if (this.rows.length > 0) {\r\n                this.onSelected(this.rows[0].row.getDataItem());\r\n            }\r\n        };\r\n        CtrDropdown.prototype.nextRow = function () {\r\n            var nextRowIndex = 0;\r\n            if (this.currHighlighted) {\r\n                nextRowIndex = this.currHighlighted.index + 1;\r\n            }\r\n            this.highlightRow(nextRowIndex);\r\n        };\r\n        CtrDropdown.prototype.prevRow = function () {\r\n            var nextRowIndex = -1;\r\n            if (this.currHighlighted) {\r\n                nextRowIndex = this.currHighlighted.index - 1;\r\n            }\r\n            this.highlightRow(nextRowIndex);\r\n        };\r\n        CtrDropdown.prototype.dropdownScrollTopTo = function (offset) {\r\n            this.el.nativeElement.scrollTop = this.el.nativeElement.scrollTop + offset;\r\n        };\r\n        CtrDropdown.prototype.dropdownRowTop = function () {\r\n            if (!this.currHighlighted) {\r\n                return;\r\n            }\r\n            return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top -\r\n                (this.el.nativeElement.getBoundingClientRect().top +\r\n                    parseInt(getComputedStyle(this.el.nativeElement).paddingTop, 10));\r\n        };\r\n        CtrDropdown.prototype.dropdownHeight = function () {\r\n            return this.el.nativeElement.getBoundingClientRect().top +\r\n                parseInt(getComputedStyle(this.el.nativeElement).maxHeight, 10);\r\n        };\r\n        CtrDropdown.prototype.dropdownRowOffsetHeight = function (row) {\r\n            var css = getComputedStyle(row.parentElement);\r\n            return row.parentElement.offsetHeight +\r\n                parseInt(css.marginTop, 10) + parseInt(css.marginBottom, 10);\r\n        };\r\n        CtrDropdown.decorators = [\r\n            { type: core.Directive, args: [{\r\n                        selector: \"[ctrDropdown]\",\r\n                    },] }\r\n        ];\r\n        CtrDropdown.ctorParameters = function () { return [\r\n            { type: CtrCompleter, decorators: [{ type: core.Host }] },\r\n            { type: core.ElementRef },\r\n            { type: core.NgZone }\r\n        ]; };\r\n        CtrDropdown.propDecorators = {\r\n            onMouseDown: [{ type: core.HostListener, args: [\"mousedown\", [\"$event\"],] }]\r\n        };\r\n        return CtrDropdown;\r\n    }());\n\n    // keyboard events\r\n    var KEY_DW = 40;\r\n    var KEY_RT = 39;\r\n    var KEY_UP = 38;\r\n    var KEY_LF = 37;\r\n    var KEY_ES = 27;\r\n    var KEY_EN = 13;\r\n    var KEY_TAB = 9;\r\n    var KEY_BK = 8;\r\n    var KEY_SH = 16;\r\n    var KEY_CL = 20;\r\n    var KEY_F1 = 112;\r\n    var KEY_F12 = 123;\r\n    var CtrInput = /** @class */ (function () {\r\n        function CtrInput(completer, ngModel, el) {\r\n            var _this = this;\r\n            this.completer = completer;\r\n            this.ngModel = ngModel;\r\n            this.el = el;\r\n            this.clearSelected = false;\r\n            this.clearUnselected = false;\r\n            this.overrideSuggested = false;\r\n            this.fillHighlighted = true;\r\n            this.openOnFocus = false;\r\n            this.openOnClick = false;\r\n            this.selectOnClick = false;\r\n            this.selectOnFocus = false;\r\n            this.ngModelChange = new core.EventEmitter();\r\n            this._searchStr = \"\";\r\n            this._displayStr = \"\";\r\n            this.blurTimer = null;\r\n            this.completer.selected.subscribe(function (item) {\r\n                if (!item) {\r\n                    return;\r\n                }\r\n                if (_this.clearSelected) {\r\n                    _this.searchStr = \"\";\r\n                }\r\n                else {\r\n                    _this.searchStr = item.title;\r\n                }\r\n                _this.ngModelChange.emit(_this.searchStr);\r\n            });\r\n            this.completer.highlighted.subscribe(function (item) {\r\n                if (_this.fillHighlighted) {\r\n                    if (item) {\r\n                        _this._displayStr = item.title;\r\n                        _this.ngModelChange.emit(item.title);\r\n                    }\r\n                    else {\r\n                        _this._displayStr = _this.searchStr;\r\n                        _this.ngModelChange.emit(_this.searchStr);\r\n                    }\r\n                }\r\n            });\r\n            this.completer.dataSourceChange.subscribe(function () {\r\n                _this.completer.search(_this.searchStr);\r\n            });\r\n            if (this.ngModel.valueChanges) {\r\n                this.ngModel.valueChanges.subscribe(function (value) {\r\n                    if (!isNil(value) && _this._displayStr !== value) {\r\n                        if (_this.searchStr !== value) {\r\n                            _this.completer.search(value);\r\n                        }\r\n                        _this.searchStr = value;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        CtrInput.prototype.keyupHandler = function (event) {\r\n            if (event.keyCode === KEY_LF || event.keyCode === KEY_RT || event.keyCode === KEY_TAB) {\r\n                // do nothing\r\n                return;\r\n            }\r\n            if (event.keyCode === KEY_UP || event.keyCode === KEY_EN) {\r\n                event.preventDefault();\r\n            }\r\n            else if (event.keyCode === KEY_DW) {\r\n                event.preventDefault();\r\n                this.completer.search(this.searchStr);\r\n            }\r\n            else if (event.keyCode === KEY_ES) {\r\n                if (this.completer.isOpen) {\r\n                    this.restoreSearchValue();\r\n                    this.completer.clear();\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                }\r\n            }\r\n        };\r\n        CtrInput.prototype.pasteHandler = function (event) {\r\n            this.completer.open();\r\n        };\r\n        CtrInput.prototype.keydownHandler = function (event) {\r\n            var keyCode = event.keyCode || event.which;\r\n            if (keyCode === KEY_EN) {\r\n                if (this.completer.hasHighlighted()) {\r\n                    event.preventDefault();\r\n                }\r\n                this.handleSelection();\r\n            }\r\n            else if (keyCode === KEY_DW) {\r\n                event.preventDefault();\r\n                this.completer.open();\r\n                this.completer.nextRow();\r\n            }\r\n            else if (keyCode === KEY_UP) {\r\n                event.preventDefault();\r\n                this.completer.prevRow();\r\n            }\r\n            else if (keyCode === KEY_TAB) {\r\n                this.handleSelection();\r\n            }\r\n            else if (keyCode === KEY_BK) {\r\n                this.completer.open();\r\n            }\r\n            else if (keyCode === KEY_ES) {\r\n                // This is very specific to IE10/11 #272\r\n                // without this, IE clears the input text\r\n                event.preventDefault();\r\n                if (this.completer.isOpen) {\r\n                    event.stopPropagation();\r\n                }\r\n            }\r\n            else {\r\n                if (keyCode !== 0 && keyCode !== KEY_SH && keyCode !== KEY_CL &&\r\n                    (keyCode <= KEY_F1 || keyCode >= KEY_F12) &&\r\n                    !event.ctrlKey && !event.metaKey && !event.altKey) {\r\n                    this.completer.open();\r\n                }\r\n            }\r\n        };\r\n        CtrInput.prototype.onBlur = function (event) {\r\n            var _this = this;\r\n            // Check if we need to cancel Blur for IE\r\n            if (this.completer.isCancelBlur()) {\r\n                setTimeout(function () {\r\n                    // get the focus back\r\n                    _this.el.nativeElement.focus();\r\n                }, 0);\r\n                return;\r\n            }\r\n            if (this.completer.isOpen) {\r\n                this.blurTimer = timer(200).pipe(operators.take(1)).subscribe(function () { return _this.doBlur(); });\r\n            }\r\n        };\r\n        CtrInput.prototype.onfocus = function () {\r\n            if (this.blurTimer) {\r\n                this.blurTimer.unsubscribe();\r\n                this.blurTimer = null;\r\n            }\r\n            if (this.selectOnFocus) {\r\n                this.el.nativeElement.select();\r\n            }\r\n            if (this.openOnFocus) {\r\n                this.completer.open();\r\n            }\r\n        };\r\n        CtrInput.prototype.onClick = function (event) {\r\n            if (this.selectOnClick) {\r\n                this.el.nativeElement.select();\r\n            }\r\n            if (this.openOnClick) {\r\n                if (this.completer.isOpen) {\r\n                    this.completer.clear();\r\n                }\r\n                else {\r\n                    this.completer.open();\r\n                }\r\n            }\r\n        };\r\n        Object.defineProperty(CtrInput.prototype, \"searchStr\", {\r\n            get: function () {\r\n                return this._searchStr;\r\n            },\r\n            set: function (term) {\r\n                this._searchStr = term;\r\n                this._displayStr = term;\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        CtrInput.prototype.handleSelection = function () {\r\n            if (this.completer.hasHighlighted()) {\r\n                this._searchStr = \"\";\r\n                this.completer.selectCurrent();\r\n            }\r\n            else if (this.overrideSuggested) {\r\n                this.completer.onSelected({ title: this.searchStr, originalObject: null });\r\n            }\r\n            else {\r\n                if (this.clearUnselected && !this.completer.hasSelected) {\r\n                    this.searchStr = \"\";\r\n                    this.ngModelChange.emit(this.searchStr);\r\n                }\r\n                this.completer.clear();\r\n            }\r\n        };\r\n        CtrInput.prototype.restoreSearchValue = function () {\r\n            if (this.fillHighlighted) {\r\n                if (this._displayStr !== this.searchStr) {\r\n                    this._displayStr = this.searchStr;\r\n                    this.ngModelChange.emit(this.searchStr);\r\n                }\r\n            }\r\n        };\r\n        CtrInput.prototype.doBlur = function () {\r\n            if (this.blurTimer) {\r\n                this.blurTimer.unsubscribe();\r\n                this.blurTimer = null;\r\n            }\r\n            if (this.overrideSuggested) {\r\n                this.completer.onSelected({ title: this.searchStr, originalObject: null });\r\n            }\r\n            else {\r\n                if (this.clearUnselected && !this.completer.hasSelected) {\r\n                    this.searchStr = \"\";\r\n                    this.ngModelChange.emit(this.searchStr);\r\n                }\r\n                else {\r\n                    this.restoreSearchValue();\r\n                }\r\n            }\r\n            this.completer.clear();\r\n        };\r\n        CtrInput.decorators = [\r\n            { type: core.Directive, args: [{\r\n                        selector: \"[ctrInput]\",\r\n                    },] }\r\n        ];\r\n        CtrInput.ctorParameters = function () { return [\r\n            { type: CtrCompleter, decorators: [{ type: core.Host }] },\r\n            { type: forms.NgModel },\r\n            { type: core.ElementRef }\r\n        ]; };\r\n        CtrInput.propDecorators = {\r\n            clearSelected: [{ type: core.Input, args: [\"clearSelected\",] }],\r\n            clearUnselected: [{ type: core.Input, args: [\"clearUnselected\",] }],\r\n            overrideSuggested: [{ type: core.Input, args: [\"overrideSuggested\",] }],\r\n            fillHighlighted: [{ type: core.Input, args: [\"fillHighlighted\",] }],\r\n            openOnFocus: [{ type: core.Input, args: [\"openOnFocus\",] }],\r\n            openOnClick: [{ type: core.Input, args: [\"openOnClick\",] }],\r\n            selectOnClick: [{ type: core.Input, args: [\"selectOnClick\",] }],\r\n            selectOnFocus: [{ type: core.Input, args: [\"selectOnFocus\",] }],\r\n            ngModelChange: [{ type: core.Output }],\r\n            keyupHandler: [{ type: core.HostListener, args: [\"keyup\", [\"$event\"],] }],\r\n            pasteHandler: [{ type: core.HostListener, args: [\"paste\", [\"$event\"],] }],\r\n            keydownHandler: [{ type: core.HostListener, args: [\"keydown\", [\"$event\"],] }],\r\n            onBlur: [{ type: core.HostListener, args: [\"blur\", [\"$event\"],] }],\r\n            onfocus: [{ type: core.HostListener, args: [\"focus\", [],] }],\r\n            onClick: [{ type: core.HostListener, args: [\"click\", [\"$event\"],] }]\r\n        };\r\n        return CtrInput;\r\n    }());\n\n    var CtrListContext = /** @class */ (function () {\r\n        function CtrListContext(results, searching, searchInitialized, isOpen) {\r\n            this.results = results;\r\n            this.searching = searching;\r\n            this.searchInitialized = searchInitialized;\r\n            this.isOpen = isOpen;\r\n        }\r\n        return CtrListContext;\r\n    }());\r\n    var CtrList = /** @class */ (function () {\r\n        function CtrList(completer, templateRef, viewContainer, cd, zone) {\r\n            this.completer = completer;\r\n            this.templateRef = templateRef;\r\n            this.viewContainer = viewContainer;\r\n            this.cd = cd;\r\n            this.zone = zone;\r\n            this.ctrListMinSearchLength = MIN_SEARCH_LENGTH;\r\n            this.ctrListPause = PAUSE;\r\n            this.ctrListAutoMatch = false;\r\n            this.ctrListAutoHighlight = false;\r\n            this.ctrListDisplaySearching = true;\r\n            this._dataService = null;\r\n            // private results: CompleterItem[] = [];\r\n            this.term = null;\r\n            // private searching = false;\r\n            this.searchTimer = null;\r\n            this.clearTimer = null;\r\n            this.ctx = new CtrListContext([], false, false, false);\r\n            this._initialValue = null;\r\n            this.viewRef = null;\r\n        }\r\n        CtrList.prototype.ngOnInit = function () {\r\n            this.completer.registerList(this);\r\n            this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, new CtrListContext([], false, false, false));\r\n        };\r\n        Object.defineProperty(CtrList.prototype, \"dataService\", {\r\n            set: function (newService) {\r\n                this._dataService = newService;\r\n                this.dataServiceSubscribe();\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(CtrList.prototype, \"initialValue\", {\r\n            set: function (value) {\r\n                var _this = this;\r\n                if (this._dataService &&\r\n                    typeof this._dataService.convertToItem === \"function\") {\r\n                    this.zone.run(function () {\r\n                        var initialItem = _this._dataService && _this._dataService.convertToItem(value);\r\n                        if (initialItem) {\r\n                            _this.completer.onSelected(initialItem, false);\r\n                        }\r\n                    });\r\n                }\r\n                else if (!this._dataService) {\r\n                    this._initialValue = value;\r\n                }\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        CtrList.prototype.search = function (term) {\r\n            var _this = this;\r\n            if (!isNil(term) &&\r\n                term.length >= this.ctrListMinSearchLength &&\r\n                this.term !== term) {\r\n                if (this.searchTimer) {\r\n                    this.searchTimer.unsubscribe();\r\n                    this.searchTimer = null;\r\n                }\r\n                if (!this.ctx.searching) {\r\n                    if (this.ctrListDisplaySearching) {\r\n                        this.ctx.results = [];\r\n                    }\r\n                    this.ctx.searching = true;\r\n                    this.ctx.searchInitialized = true;\r\n                    this.refreshTemplate();\r\n                }\r\n                if (this.clearTimer) {\r\n                    this.clearTimer.unsubscribe();\r\n                }\r\n                this.searchTimer = timer(this.ctrListPause)\r\n                    .pipe(operators.take(1))\r\n                    .subscribe(function () {\r\n                    _this.searchTimerComplete(term);\r\n                });\r\n            }\r\n            else if (!isNil(term) && term.length < this.ctrListMinSearchLength) {\r\n                this.clear();\r\n                this.term = \"\";\r\n            }\r\n        };\r\n        CtrList.prototype.clear = function () {\r\n            var _this = this;\r\n            if (this.searchTimer) {\r\n                this.searchTimer.unsubscribe();\r\n            }\r\n            this.clearTimer = timer(CLEAR_TIMEOUT)\r\n                .pipe(operators.take(1))\r\n                .subscribe(function () {\r\n                _this._clear();\r\n            });\r\n        };\r\n        CtrList.prototype.open = function () {\r\n            if (!this.ctx.searchInitialized) {\r\n                this.search(\"\");\r\n            }\r\n            this.refreshTemplate();\r\n        };\r\n        CtrList.prototype.isOpen = function (open) {\r\n            this.ctx.isOpen = open;\r\n        };\r\n        CtrList.prototype._clear = function () {\r\n            if (this.searchTimer) {\r\n                this.searchTimer.unsubscribe();\r\n                this.searchTimer = null;\r\n            }\r\n            if (this.dataService) {\r\n                this.dataService.cancel();\r\n            }\r\n            this.viewContainer.clear();\r\n            this.viewRef = null;\r\n        };\r\n        CtrList.prototype.searchTimerComplete = function (term) {\r\n            // Begin the search\r\n            if (isNil(term) || term.length < this.ctrListMinSearchLength) {\r\n                this.ctx.searching = false;\r\n                return;\r\n            }\r\n            this.term = term;\r\n            if (this._dataService) {\r\n                this._dataService.search(term);\r\n            }\r\n        };\r\n        CtrList.prototype.refreshTemplate = function () {\r\n            // create the template if it doesn't exist\r\n            if (!this.viewRef) {\r\n                this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, this.ctx);\r\n            }\r\n            else if (!this.viewRef.destroyed) {\r\n                // refresh the template\r\n                this.viewRef.context.isOpen = this.ctx.isOpen;\r\n                this.viewRef.context.results = this.ctx.results;\r\n                this.viewRef.context.searching = this.ctx.searching;\r\n                this.viewRef.context.searchInitialized = this.ctx.searchInitialized;\r\n                this.viewRef.detectChanges();\r\n            }\r\n            this.cd.markForCheck();\r\n        };\r\n        CtrList.prototype.getBestMatchIndex = function () {\r\n            var _this = this;\r\n            if (!this.ctx.results || !this.term) {\r\n                return null;\r\n            }\r\n            // First try to find the exact term\r\n            var bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase() === _this.term.toLocaleLowerCase(); });\r\n            // If not try to find the first item that starts with the term\r\n            if (bestMatch < 0) {\r\n                bestMatch = this.ctx.results.findIndex(function (item) {\r\n                    return item.title.toLowerCase().startsWith(_this.term.toLocaleLowerCase());\r\n                });\r\n            }\r\n            // If not try to find the first item that includes the term\r\n            if (bestMatch < 0) {\r\n                bestMatch = this.ctx.results.findIndex(function (item) {\r\n                    return item.title.toLowerCase().includes(_this.term.toLocaleLowerCase());\r\n                });\r\n            }\r\n            return bestMatch < 0 ? null : bestMatch;\r\n        };\r\n        CtrList.prototype.dataServiceSubscribe = function () {\r\n            var _this = this;\r\n            if (this._dataService) {\r\n                this._dataService.subscribe(function (results) {\r\n                    _this.ctx.searchInitialized = true;\r\n                    _this.ctx.searching = false;\r\n                    _this.ctx.results = results;\r\n                    if (_this.ctrListAutoMatch &&\r\n                        results &&\r\n                        results.length === 1 &&\r\n                        results[0].title &&\r\n                        !isNil(_this.term) &&\r\n                        results[0].title.toLocaleLowerCase() ===\r\n                            _this.term.toLocaleLowerCase()) {\r\n                        // Do automatch\r\n                        _this.completer.onSelected(results[0]);\r\n                        return;\r\n                    }\r\n                    _this.refreshTemplate();\r\n                    if (_this.ctrListAutoHighlight) {\r\n                        _this.completer.autoHighlightIndex = _this.getBestMatchIndex();\r\n                    }\r\n                }, function (error) {\r\n                    // tslint:disable-next-line:no-console\r\n                    console.error(error);\r\n                    // tslint:disable-next-line:no-console\r\n                    console.error(\"Unexpected error in dataService: errors should be handled by the dataService Observable\");\r\n                    return [];\r\n                });\r\n                if (this._dataService.dataSourceChange) {\r\n                    this._dataService.dataSourceChange.subscribe(function () {\r\n                        _this.term = null;\r\n                        _this.ctx.searchInitialized = false;\r\n                        _this.ctx.searching = false;\r\n                        _this.ctx.results = [];\r\n                        _this.refreshTemplate();\r\n                        _this.completer.onDataSourceChange();\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        CtrList.decorators = [\r\n            { type: core.Directive, args: [{\r\n                        selector: \"[ctrList]\",\r\n                    },] }\r\n        ];\r\n        CtrList.ctorParameters = function () { return [\r\n            { type: CtrCompleter, decorators: [{ type: core.Host }] },\r\n            { type: core.TemplateRef },\r\n            { type: core.ViewContainerRef },\r\n            { type: core.ChangeDetectorRef },\r\n            { type: core.NgZone }\r\n        ]; };\r\n        CtrList.propDecorators = {\r\n            ctrListMinSearchLength: [{ type: core.Input }],\r\n            ctrListPause: [{ type: core.Input }],\r\n            ctrListAutoMatch: [{ type: core.Input }],\r\n            ctrListAutoHighlight: [{ type: core.Input }],\r\n            ctrListDisplaySearching: [{ type: core.Input }],\r\n            dataService: [{ type: core.Input, args: [\"ctrList\",] }],\r\n            initialValue: [{ type: core.Input, args: [\"ctrListInitialValue\",] }]\r\n        };\r\n        return CtrList;\r\n    }());\n\n    var CtrRow = /** @class */ (function () {\r\n        function CtrRow(el, renderer, dropdown) {\r\n            this.el = el;\r\n            this.renderer = renderer;\r\n            this.dropdown = dropdown;\r\n            this.selected = false;\r\n            this._rowIndex = 0;\r\n            this._item = null;\r\n        }\r\n        CtrRow.prototype.ngOnDestroy = function () {\r\n            if (this._rowIndex) {\r\n                this.dropdown.unregisterRow(this._rowIndex);\r\n            }\r\n        };\r\n        Object.defineProperty(CtrRow.prototype, \"ctrRow\", {\r\n            set: function (index) {\r\n                this._rowIndex = index;\r\n                this.dropdown.registerRow(new CtrRowItem(this, this._rowIndex));\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(CtrRow.prototype, \"dataItem\", {\r\n            set: function (item) {\r\n                this._item = item;\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        CtrRow.prototype.onClick = function (event) {\r\n            this.dropdown.onSelected(this._item);\r\n        };\r\n        CtrRow.prototype.onMouseEnter = function (event) {\r\n            this.dropdown.highlightRow(this._rowIndex);\r\n        };\r\n        CtrRow.prototype.onMouseDown = function (event) {\r\n            this.dropdown.rowMouseDown();\r\n        };\r\n        CtrRow.prototype.setHighlighted = function (selected) {\r\n            this.selected = selected;\r\n            if (this.selected) {\r\n                this.renderer.addClass(this.el.nativeElement, \"completer-selected-row\");\r\n            }\r\n            else {\r\n                this.renderer.removeClass(this.el.nativeElement, \"completer-selected-row\");\r\n            }\r\n        };\r\n        CtrRow.prototype.getNativeElement = function () {\r\n            return this.el.nativeElement;\r\n        };\r\n        CtrRow.prototype.getDataItem = function () {\r\n            return this._item;\r\n        };\r\n        CtrRow.decorators = [\r\n            { type: core.Directive, args: [{\r\n                        selector: \"[ctrRow]\",\r\n                    },] }\r\n        ];\r\n        CtrRow.ctorParameters = function () { return [\r\n            { type: core.ElementRef },\r\n            { type: core.Renderer2 },\r\n            { type: CtrDropdown, decorators: [{ type: core.Host }] }\r\n        ]; };\r\n        CtrRow.propDecorators = {\r\n            ctrRow: [{ type: core.Input }],\r\n            dataItem: [{ type: core.Input }],\r\n            onClick: [{ type: core.HostListener, args: [\"click\", [\"$event\"],] }],\r\n            onMouseEnter: [{ type: core.HostListener, args: [\"mouseenter\", [\"$event\"],] }],\r\n            onMouseDown: [{ type: core.HostListener, args: [\"mousedown\", [\"$event\"],] }]\r\n        };\r\n        return CtrRow;\r\n    }());\n\n    var CompleterListItemCmp = /** @class */ (function () {\r\n        function CompleterListItemCmp() {\r\n            this.text = \"\";\r\n            this.searchStr = \"\";\r\n            this.matchClass = \"\";\r\n            this.type = \"\";\r\n            this.parts = [];\r\n        }\r\n        CompleterListItemCmp.prototype.ngOnInit = function () {\r\n            if (!this.searchStr) {\r\n                this.parts.push({ isMatch: false, text: this.text });\r\n                return;\r\n            }\r\n            var matchStr = this.text.toLowerCase();\r\n            var matchPos = matchStr.indexOf(this.searchStr.toLowerCase());\r\n            var startIndex = 0;\r\n            while (matchPos >= 0) {\r\n                var matchText = this.text.slice(matchPos, matchPos + this.searchStr.length);\r\n                if (matchPos === 0) {\r\n                    this.parts.push({ isMatch: true, text: matchText });\r\n                    startIndex += this.searchStr.length;\r\n                }\r\n                else if (matchPos > 0) {\r\n                    var matchPart = this.text.slice(startIndex, matchPos);\r\n                    this.parts.push({ isMatch: false, text: matchPart });\r\n                    this.parts.push({ isMatch: true, text: matchText });\r\n                    startIndex += this.searchStr.length + matchPart.length;\r\n                }\r\n                matchPos = matchStr.indexOf(this.searchStr.toLowerCase(), startIndex);\r\n            }\r\n            if (startIndex < this.text.length) {\r\n                this.parts.push({ isMatch: false, text: this.text.slice(startIndex, this.text.length) });\r\n            }\r\n        };\r\n        CompleterListItemCmp.decorators = [\r\n            { type: core.Component, args: [{\r\n                        selector: \"completer-list-item\",\r\n                        template: \"<span class=\\\"completer-list-item-holder\\\" [ngClass]= \\\"{'completer-title': type === 'title', 'completer-description': type === 'description'}\\\" >\\n        <span class=\\\"completer-list-item\\\" *ngFor=\\\"let part of parts\\\" [ngClass]= \\\"part.isMatch ? matchClass : null\\\">{{part.text}}</span>\\n    </span>\"\r\n                    },] }\r\n        ];\r\n        CompleterListItemCmp.propDecorators = {\r\n            text: [{ type: core.Input }],\r\n            searchStr: [{ type: core.Input }],\r\n            matchClass: [{ type: core.Input }],\r\n            type: [{ type: core.Input }]\r\n        };\r\n        return CompleterListItemCmp;\r\n    }());\n\n    var noop = function () {\r\n        return;\r\n    };\r\n    var COMPLETER_CONTROL_VALUE_ACCESSOR = {\r\n        multi: true,\r\n        provide: forms.NG_VALUE_ACCESSOR,\r\n        useExisting: core.forwardRef(function () { return CompleterCmp; }),\r\n    };\r\n    var CompleterCmp = /** @class */ (function () {\r\n        function CompleterCmp(completerService, cdr) {\r\n            this.completerService = completerService;\r\n            this.cdr = cdr;\r\n            this.inputName = \"\";\r\n            this.inputId = \"\";\r\n            this.pause = PAUSE;\r\n            this.minSearchLength = MIN_SEARCH_LENGTH;\r\n            this.maxChars = MAX_CHARS;\r\n            this.overrideSuggested = false;\r\n            this.clearSelected = false;\r\n            this.clearUnselected = false;\r\n            this.fillHighlighted = true;\r\n            this.placeholder = \"\";\r\n            this.autoMatch = false;\r\n            this.disableInput = false;\r\n            this.autofocus = false;\r\n            this.openOnFocus = false;\r\n            this.openOnClick = false;\r\n            this.selectOnClick = false;\r\n            this.selectOnFocus = false;\r\n            this.autoHighlight = false;\r\n            this.selected = new core.EventEmitter();\r\n            this.highlighted = new core.EventEmitter();\r\n            this.blurEvent = new core.EventEmitter();\r\n            this.click = new core.EventEmitter();\r\n            this.focusEvent = new core.EventEmitter();\r\n            this.opened = new core.EventEmitter();\r\n            this.keyup = new core.EventEmitter();\r\n            this.keydown = new core.EventEmitter();\r\n            this.control = new forms.FormControl(\"\");\r\n            this.displaySearching = true;\r\n            this.displayNoResults = true;\r\n            this._textNoResults = TEXT_NO_RESULTS;\r\n            this._textSearching = TEXT_SEARCHING;\r\n            this._onTouchedCallback = noop;\r\n            this._onChangeCallback = noop;\r\n            this._focus = false;\r\n            this._open = false;\r\n            this._searchStr = \"\";\r\n        }\r\n        Object.defineProperty(CompleterCmp.prototype, \"value\", {\r\n            get: function () { return this.searchStr; },\r\n            set: function (v) {\r\n                if (v !== this.searchStr) {\r\n                    this.searchStr = v;\r\n                }\r\n                // Propagate the change in any case\r\n                this._onChangeCallback(v);\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(CompleterCmp.prototype, \"searchStr\", {\r\n            get: function () {\r\n                return this._searchStr;\r\n            },\r\n            set: function (value) {\r\n                if (typeof value === \"string\" || isNil(value)) {\r\n                    this._searchStr = value;\r\n                }\r\n                else {\r\n                    this._searchStr = JSON.stringify(value);\r\n                }\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        CompleterCmp.prototype.ngAfterViewInit = function () {\r\n            var _this = this;\r\n            if (this.autofocus) {\r\n                this._focus = true;\r\n            }\r\n            if (!this.completer) {\r\n                return;\r\n            }\r\n            this.completer.selected.subscribe(function (item) {\r\n                _this.selected.emit(item);\r\n            });\r\n            this.completer.highlighted.subscribe(function (item) {\r\n                _this.highlighted.emit(item);\r\n            });\r\n            this.completer.opened.subscribe(function (isOpen) {\r\n                _this._open = isOpen;\r\n                _this.opened.emit(isOpen);\r\n            });\r\n        };\r\n        CompleterCmp.prototype.ngAfterViewChecked = function () {\r\n            var _this = this;\r\n            if (this._focus) {\r\n                setTimeout(function () {\r\n                    if (!!_this.ctrInput) {\r\n                        _this.ctrInput.nativeElement.focus();\r\n                        _this._focus = false;\r\n                    }\r\n                }, 0);\r\n            }\r\n        };\r\n        CompleterCmp.prototype.onTouched = function () {\r\n            this._onTouchedCallback();\r\n        };\r\n        CompleterCmp.prototype.writeValue = function (value) {\r\n            this.searchStr = value;\r\n        };\r\n        CompleterCmp.prototype.registerOnChange = function (fn) {\r\n            this._onChangeCallback = fn;\r\n        };\r\n        CompleterCmp.prototype.registerOnTouched = function (fn) {\r\n            this._onTouchedCallback = fn;\r\n        };\r\n        CompleterCmp.prototype.setDisabledState = function (isDisabled) {\r\n            this.disableInput = isDisabled;\r\n        };\r\n        Object.defineProperty(CompleterCmp.prototype, \"datasource\", {\r\n            set: function (source) {\r\n                if (source) {\r\n                    if (source instanceof Array) {\r\n                        this.dataService = this.completerService.local(source);\r\n                    }\r\n                    else if (typeof (source) === \"string\") {\r\n                        this.dataService = this.completerService.remote(source);\r\n                    }\r\n                    else {\r\n                        this.dataService = source;\r\n                    }\r\n                }\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(CompleterCmp.prototype, \"textNoResults\", {\r\n            set: function (text) {\r\n                if (this._textNoResults !== text) {\r\n                    this._textNoResults = text;\r\n                    this.displayNoResults = !!this._textNoResults && this._textNoResults !== \"false\";\r\n                }\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(CompleterCmp.prototype, \"textSearching\", {\r\n            set: function (text) {\r\n                if (this._textSearching !== text) {\r\n                    this._textSearching = text;\r\n                    this.displaySearching = !!this._textSearching && this._textSearching !== \"false\";\r\n                }\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        CompleterCmp.prototype.onBlur = function () {\r\n            this.blurEvent.emit();\r\n            this.onTouched();\r\n            this.cdr.detectChanges();\r\n        };\r\n        CompleterCmp.prototype.onFocus = function () {\r\n            this.focusEvent.emit();\r\n            this.onTouched();\r\n        };\r\n        CompleterCmp.prototype.onClick = function (event) {\r\n            this.click.emit(event);\r\n            this.onTouched();\r\n        };\r\n        CompleterCmp.prototype.onKeyup = function (event) {\r\n            this.keyup.emit(event);\r\n            event.stopPropagation();\r\n        };\r\n        CompleterCmp.prototype.onKeydown = function (event) {\r\n            this.keydown.emit(event);\r\n            event.stopPropagation();\r\n        };\r\n        CompleterCmp.prototype.onChange = function (value) {\r\n            this.value = value;\r\n        };\r\n        CompleterCmp.prototype.open = function () {\r\n            if (!this.completer) {\r\n                return;\r\n            }\r\n            this.completer.open();\r\n        };\r\n        CompleterCmp.prototype.close = function () {\r\n            if (!this.completer) {\r\n                return;\r\n            }\r\n            this.completer.clear();\r\n        };\r\n        CompleterCmp.prototype.focus = function () {\r\n            if (this.ctrInput) {\r\n                this.ctrInput.nativeElement.focus();\r\n            }\r\n            else {\r\n                this._focus = true;\r\n            }\r\n        };\r\n        CompleterCmp.prototype.blur = function () {\r\n            if (this.ctrInput) {\r\n                this.ctrInput.nativeElement.blur();\r\n            }\r\n            else {\r\n                this._focus = false;\r\n            }\r\n        };\r\n        CompleterCmp.prototype.isOpen = function () {\r\n            return this._open;\r\n        };\r\n        CompleterCmp.decorators = [\r\n            { type: core.Component, args: [{\r\n                        selector: \"ng2-completer\",\r\n                        template: \"\\n        <div class=\\\"completer-holder\\\" ctrCompleter>\\n            <input #ctrInput [attr.id]=\\\"inputId.length > 0 ? inputId : null\\\" type=\\\"search\\\"\\n                class=\\\"completer-input\\\" ctrInput [ngClass]=\\\"inputClass\\\"\\n                [(ngModel)]=\\\"searchStr\\\" (ngModelChange)=\\\"onChange($event)\\\"\\n                [attr.name]=\\\"inputName\\\" [placeholder]=\\\"placeholder\\\"\\n                [attr.maxlength]=\\\"maxChars\\\" [tabindex]=\\\"fieldTabindex\\\" [disabled]=\\\"disableInput\\\"\\n                [clearSelected]=\\\"clearSelected\\\" [clearUnselected]=\\\"clearUnselected\\\"\\n                [overrideSuggested]=\\\"overrideSuggested\\\" [openOnFocus]=\\\"openOnFocus\\\" [fillHighlighted]=\\\"fillHighlighted\\\"\\n                [openOnClick]=\\\"openOnClick\\\" [selectOnClick]=\\\"selectOnClick\\\" [selectOnFocus]=\\\"selectOnFocus\\\"\\n                (blur)=\\\"onBlur()\\\" (focus)=\\\"onFocus()\\\" (keyup)=\\\"onKeyup($event)\\\"\\n                (keydown)=\\\"onKeydown($event)\\\" (click)=\\\"onClick($event)\\\"\\n                autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" />\\n\\n            <div class=\\\"completer-dropdown-holder\\\"\\n                *ctrList=\\\"dataService;\\n                    minSearchLength: minSearchLength;\\n                    pause: pause;\\n                    autoMatch: autoMatch;\\n                    initialValue: initialValue;\\n                    autoHighlight: autoHighlight;\\n                    displaySearching: displaySearching;\\n                    let items = results;\\n                    let searchActive = searching;\\n                    let isInitialized = searchInitialized;\\n                    let isOpen = isOpen;\\\">\\n                <div class=\\\"completer-dropdown\\\" ctrDropdown\\n                    *ngIf=\\\"isInitialized && isOpen && (( items?.length > 0|| (displayNoResults && !searchActive)) || (searchActive && displaySearching))\\\">\\n                    <div *ngIf=\\\"searchActive && displaySearching\\\" class=\\\"completer-searching\\\">{{ _textSearching }}</div>\\n                    <div *ngIf=\\\"!searchActive && (!items || items?.length === 0)\\\"\\n                    class=\\\"completer-no-results\\\">{{ _textNoResults }}</div>\\n                    <div class=\\\"completer-row-wrapper\\\" *ngFor=\\\"let item of items; let rowIndex=index\\\">\\n                        <div class=\\\"completer-row\\\" [ctrRow]=\\\"rowIndex\\\" [dataItem]=\\\"item\\\">\\n                            <div *ngIf=\\\"item.image || item.image === ''\\\" class=\\\"completer-image-holder\\\">\\n                                <img *ngIf=\\\"item.image != ''\\\" src=\\\"{{item.image}}\\\" class=\\\"completer-image\\\" />\\n                                <div *ngIf=\\\"item.image === ''\\\" class=\\\"completer-image-default\\\"></div>\\n                            </div>\\n                            <div class=\\\"completer-item-text\\\"\\n                            [ngClass]=\\\"{'completer-item-text-image': item.image || item.image === '' }\\\">\\n                                <completer-list-item\\n                                class=\\\"completer-title\\\" [text]=\\\"item.title\\\" [matchClass]=\\\"matchClass\\\"\\n                                [searchStr]=\\\"searchStr\\\" [type]=\\\"'title'\\\"></completer-list-item>\\n                                <completer-list-item *ngIf=\\\"item.description && item.description != ''\\\"\\n                                class=\\\"completer-description\\\" [text]=\\\"item.description\\\"\\n                                    [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'description'\\\">\\n                                </completer-list-item>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    \",\r\n                        styles: [\"\\n    .completer-dropdown {\\n        border-color: #ececec;\\n        border-width: 1px;\\n        border-style: solid;\\n        border-radius: 2px;\\n        width: 250px;\\n        padding: 6px;\\n        cursor: pointer;\\n        z-index: 9999;\\n        position: absolute;\\n        margin-top: -6px;\\n        background-color: #ffffff;\\n    }\\n\\n    .completer-row {\\n        padding: 5px;\\n        color: #000000;\\n        margin-bottom: 4px;\\n        clear: both;\\n        display: inline-block;\\n        width: 103%;\\n    }\\n\\n    .completer-selected-row {\\n        background-color: lightblue;\\n        color: #ffffff;\\n    }\\n\\n    .completer-description {\\n        font-size: 14px;\\n    }\\n\\n    .completer-image-default {\\n        width: 16px;\\n        height: 16px;\\n        background-image: url(\\\"demo/res/img/default.png\\\");\\n    }\\n\\n    .completer-image-holder {\\n        float: left;\\n        width: 10%;\\n    }\\n    .completer-item-text-image {\\n        float: right;\\n        width: 90%;\\n    }\\n    \"],\r\n                        providers: [COMPLETER_CONTROL_VALUE_ACCESSOR]\r\n                    },] }\r\n        ];\r\n        CompleterCmp.ctorParameters = function () { return [\r\n            { type: CompleterService },\r\n            { type: core.ChangeDetectorRef }\r\n        ]; };\r\n        CompleterCmp.propDecorators = {\r\n            dataService: [{ type: core.Input }],\r\n            inputName: [{ type: core.Input }],\r\n            inputId: [{ type: core.Input }],\r\n            pause: [{ type: core.Input }],\r\n            minSearchLength: [{ type: core.Input }],\r\n            maxChars: [{ type: core.Input }],\r\n            overrideSuggested: [{ type: core.Input }],\r\n            clearSelected: [{ type: core.Input }],\r\n            clearUnselected: [{ type: core.Input }],\r\n            fillHighlighted: [{ type: core.Input }],\r\n            placeholder: [{ type: core.Input }],\r\n            matchClass: [{ type: core.Input }],\r\n            fieldTabindex: [{ type: core.Input }],\r\n            autoMatch: [{ type: core.Input }],\r\n            disableInput: [{ type: core.Input }],\r\n            inputClass: [{ type: core.Input }],\r\n            autofocus: [{ type: core.Input }],\r\n            openOnFocus: [{ type: core.Input }],\r\n            openOnClick: [{ type: core.Input }],\r\n            selectOnClick: [{ type: core.Input }],\r\n            selectOnFocus: [{ type: core.Input }],\r\n            initialValue: [{ type: core.Input }],\r\n            autoHighlight: [{ type: core.Input }],\r\n            selected: [{ type: core.Output }],\r\n            highlighted: [{ type: core.Output }],\r\n            blurEvent: [{ type: core.Output, args: [\"blur\",] }],\r\n            click: [{ type: core.Output }],\r\n            focusEvent: [{ type: core.Output, args: [\"focus\",] }],\r\n            opened: [{ type: core.Output }],\r\n            keyup: [{ type: core.Output }],\r\n            keydown: [{ type: core.Output }],\r\n            completer: [{ type: core.ViewChild, args: [CtrCompleter, { static: false },] }],\r\n            ctrInput: [{ type: core.ViewChild, args: [\"ctrInput\", { static: false },] }],\r\n            datasource: [{ type: core.Input }],\r\n            textNoResults: [{ type: core.Input }],\r\n            textSearching: [{ type: core.Input }]\r\n        };\r\n        return CompleterCmp;\r\n    }());\n\n    var providers = [\r\n        CompleterService,\r\n        LocalDataFactory,\r\n        RemoteDataFactory\r\n    ];\r\n    var Ng2CompleterModule = /** @class */ (function () {\r\n        function Ng2CompleterModule() {\r\n        }\r\n        Ng2CompleterModule.forRoot = function () {\r\n            return {\r\n                ngModule: Ng2CompleterModule,\r\n                providers: providers\r\n            };\r\n        };\r\n        Ng2CompleterModule.forChild = function () {\r\n            return {\r\n                ngModule: Ng2CompleterModule,\r\n                providers: providers\r\n            };\r\n        };\r\n        Ng2CompleterModule.decorators = [\r\n            { type: core.NgModule, args: [{\r\n                        declarations: [\r\n                            CompleterListItemCmp,\r\n                            CtrCompleter,\r\n                            CtrDropdown,\r\n                            CtrInput,\r\n                            CtrList,\r\n                            CtrRow,\r\n                            CompleterCmp\r\n                        ],\r\n                        exports: [\r\n                            CompleterListItemCmp,\r\n                            CtrCompleter,\r\n                            CtrDropdown,\r\n                            CtrInput,\r\n                            CtrList,\r\n                            CtrRow,\r\n                            CompleterCmp\r\n                        ],\r\n                        imports: [\r\n                            common.CommonModule,\r\n                            forms.FormsModule\r\n                        ],\r\n                        providers: providers\r\n                    },] }\r\n        ];\r\n        return Ng2CompleterModule;\r\n    }());\n\n    exports.CompleterCmp = CompleterCmp;\n    exports.CompleterListItemCmp = CompleterListItemCmp;\n    exports.CompleterService = CompleterService;\n    exports.CtrCompleter = CtrCompleter;\n    exports.CtrDropdown = CtrDropdown;\n    exports.CtrInput = CtrInput;\n    exports.CtrList = CtrList;\n    exports.CtrRow = CtrRow;\n    exports.LocalData = LocalData;\n    exports.LocalDataFactory = LocalDataFactory;\n    exports.Ng2CompleterModule = Ng2CompleterModule;\n    exports.RemoteData = RemoteData;\n    exports.RemoteDataFactory = RemoteDataFactory;\n    exports.a = CtrListContext;\n    exports.b = CompleterBaseData;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=ng2-completer.umd.js.map\n"],"names":["global","factory","exports","module","require","define","amd","self","ng2","completer","ng","core","Rx","Observable","prototype","common","http","forms","this","operators","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","extendStatics$1","__extends$1","isFunction","x","_enable_super_gross_mode_that_will_cause_bad_things","config","Promise","undefined","useDeprecatedSynchronousErrorHandling","value","Error","stack","hostReportError","err","setTimeout","empty","closed","next","error","complete","isArray","length","UnsubscriptionError","UnsubscriptionErrorImpl","errors","message","map","i","toString","join","name","Subscription","unsubscribe","_parentOrParents","_subscriptions","_ctorUnsubscribe","_unsubscribe","remove","index","e","flattenUnsubscriptionErrors","len","sub","concat","push","add","teardown","tmp","subscription","EMPTY","indexOf","subscriptions","subscriptionIndex","splice","reduce","errs","rxSubscriber","Symbol","Math","random","Subscriber","_super","destinationOrNext","_this","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","arguments","destination","SafeSubscriber","subscriber","_next","_error","_complete","_unsubscribeAndRecycle","_parentSubscriber","observerOrNext","context","bind","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","fn","parent","observable","identity","subscribe","_isScalar","_subscribe","lift","operator","source","sink","nextOrObserver","toSubscriber","_trySubscribe","observer","_a","closed_1","canReportError","console","warn","forEach","promiseCtor","getPromiseCtor","resolve","reject","pipe","fns","operations","_i","input","prev","toPromise","ObjectUnsubscribedError","ObjectUnsubscribedErrorImpl","SubjectSubscription","subject","observers","subscriberIndex","SubjectSubscriber","Subject","hasError","thrownError","AnonymousSubject","copy","slice","asObservable","AsyncAction","scheduler","work","pending","schedule","state","delay","id","recycleAsyncId","requestAsyncId","setInterval","flush","clearInterval","execute","_execute","errored","errorValue","actions","Action","Scheduler","SchedulerAction","now","Date","isScheduler","async","AsyncScheduler","delegate","active","scheduled","action","shift","isNumeric","val","parseFloat","timer","dueTime","periodOrScheduler","period","Number","due","dispatch","isNil","noop","CompleterBaseData","_searchFields","_titleField","_descriptionField","_imageField","cancel","searchFields","titleField","descriptionField","imageField","convertToItem","data","image","formattedDesc","formattedText","extractTitle","JSON","stringify","extractValue","description","originalObject","title","extractMatches","term","split","filter","item","extractBySearchFields","some","toLowerCase","field","acc","titlePart","obj","key","result","keys_1","processResults","matches","results","searchField","LocalData","dataSourceChange","EventEmitter","_data","savedTerm","catchError","res","search","emit","RemoteData","_remoteUrl","remoteSearch","_urlFormater","_dataField","remoteUrl","urlFormater","dataField","requestOptions","_requestOptions","url","encodeURIComponent","get","assign","LocalDataFactory","decorators","type","Injectable","RemoteDataFactory","ctorParameters","HttpClient","CompleterService","localDataFactory","remoteDataFactory","local","remote","CtrCompleter","selected","highlighted","opened","list","dropdown","_hasHighlighted","_hasSelected","_cancelBlur","_isOpen","_autoHighlightIndex","registerList","registerDropdown","onHighlighted","onSelected","clearList","clear","onDataSourceChange","hasSelected","isOpen","selectCurrent","nextRow","prevRow","hasHighlighted","cancelBlur","isCancelBlur","open","defineProperty","set","enumerable","configurable","highlightRow","Directive","args","selector","propDecorators","Output","CtrRowItem","row","CtrDropdown","el","zone","rows","isScrollOn","_rowMouseDown","ngOnDestroy","ngAfterViewInit","css","getComputedStyle","nativeElement","autoHighlightIndex","maxHeight","overflowY","run","onMouseDown","event","registerRow","arrIndex","findIndex","_row","unregisterRow","rowIndex","currHighlighted","find","setHighlighted","getDataItem","rowTop","dropdownRowTop","dropdownScrollTopTo","getNativeElement","dropdownHeight","getBoundingClientRect","bottom","dropdownRowOffsetHeight","top","parseInt","paddingTop","rowMouseDown","nextRowIndex","offset","scrollTop","parentElement","offsetHeight","marginTop","marginBottom","Host","ElementRef","NgZone","HostListener","CtrInput","ngModel","clearSelected","clearUnselected","overrideSuggested","fillHighlighted","openOnFocus","openOnClick","selectOnClick","selectOnFocus","ngModelChange","_searchStr","_displayStr","blurTimer","searchStr","valueChanges","keyupHandler","keyCode","preventDefault","restoreSearchValue","stopPropagation","pasteHandler","keydownHandler","which","handleSelection","ctrlKey","metaKey","altKey","onBlur","focus","take","doBlur","onfocus","select","onClick","NgModel","Input","CtrListContext","searching","searchInitialized","CtrList","templateRef","viewContainer","cd","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","ctrListAutoHighlight","ctrListDisplaySearching","_dataService","searchTimer","clearTimer","ctx","_initialValue","viewRef","ngOnInit","createEmbeddedView","newService","dataServiceSubscribe","initialItem","refreshTemplate","searchTimerComplete","_clear","dataService","destroyed","detectChanges","markForCheck","getBestMatchIndex","bestMatch","toLocaleLowerCase","startsWith","includes","TemplateRef","ViewContainerRef","ChangeDetectorRef","initialValue","CtrRow","renderer","_rowIndex","_item","onMouseEnter","addClass","removeClass","Renderer2","ctrRow","dataItem","CompleterListItemCmp","text","matchClass","parts","matchStr","matchPos","startIndex","matchPart","matchText","isMatch","Component","template","COMPLETER_CONTROL_VALUE_ACCESSOR","multi","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","CompleterCmp","completerService","cdr","inputName","inputId","pause","minSearchLength","maxChars","placeholder","autoMatch","disableInput","autofocus","autoHighlight","blurEvent","click","focusEvent","keyup","keydown","control","FormControl","displaySearching","displayNoResults","_textNoResults","_textSearching","_onTouchedCallback","_onChangeCallback","_focus","_open","v","ngAfterViewChecked","ctrInput","onTouched","writeValue","registerOnChange","registerOnTouched","setDisabledState","isDisabled","onFocus","onKeyup","onKeydown","onChange","close","blur","styles","providers","fieldTabindex","inputClass","ViewChild","static","datasource","textNoResults","textSearching","Ng2CompleterModule","forRoot","ngModule","forChild","NgModule","declarations","imports","CommonModule","FormsModule","a","b"],"mappings":"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"}